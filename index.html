<!DOCTYPE html>
<html lang="en">
  <head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>My Apps</title>

<style>
/* ===== Global ===== */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: Arial, sans-serif;
  background: #000;
  color: #fff;
  overflow: hidden;
}

/* ===== LOCK SCREEN (YOUR SCREENSHOT) ===== */

#lockScreen {
  position: relative;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
}

#lockImage {
  width: 100%;
  height: 100%;
  object-fit: cover; /* fills the screen, looks exactly like screenshot */
  display: block;
}

/* Invisible clickable area over Progress Learning tile
   Adjust top/left/width/height if needed so it sits on top of the app */

#progressHitbox {
  position: absolute;
  /* ‚úèÔ∏è Tweak these if the clickable area is slightly off */
  top: 52%;   /* % from top of screenshot */
  left: 55%;  /* % from left of screenshot */
  width: 10%; /* size of the hitbox */
  height: 15%;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
}

/* No focus outline (so it still looks exactly like the screenshot) */
#progressHitbox:focus {
  outline: none;
}

/* ===== REAL SITE (HIDDEN INITIALLY) ===== */

#realSite {
  display: none;                /* only show after correct password */
  font-family: Arial, sans-serif;
  background-color: #121212;
  color: #fff;
  margin: 0;
  transition: background 0.3s, color 0.3s;
  overflow-x: hidden;
  min-height: 100vh;
  padding-bottom: 40px;
}

/* Now style everything inside your Unblocked Hub */

#realSite header {
  display: flex;
  flex-wrap: wrap;
  justify-content: space-between;
  align-items: center;
  padding: 10px 20px;
  background: #1e1e1e;
  position: sticky;
  top: 0;
  z-index: 1000;
}

#realSite header nav a {
  color: #fff;
  text-decoration: none;
  margin: 0 10px;
}

#realSite header nav a:hover {
  text-decoration: underline;
}

#realSite button {
  padding: 10px 20px;
  margin-left: 10px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  background-color: #333;
  color: #fff;
}

#realSite button:hover {
  background: #555;
}

#realSite.dark-mode {
  background: #121212;
  color: #fff;
}

#realSite #home {
  text-align: center;
  padding: 100px 20px;
}

#realSite #home h1 {
  font-size: 3em;
  margin-bottom: 20px;
}

#realSite #home h3 {
  font-size: 1.5em;
  color: #ccc;
}

#realSite #homeBtn {
  position: fixed;
  bottom: 20px;
  left: 20px;
  z-index: 1000;
  background-color: #1e1e1e;
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 10px 15px;
  cursor: pointer;
}

#realSite .search-bar {
  margin: 20px 0;
  display: flex;
  justify-content: center;
}

#realSite .search-bar input {
  width: 80%;
  padding: 10px;
  border-radius: 5px;
  border: none;
  outline: none;
}

#realSite .section {
  padding: 30px 20px;
  border-bottom: 1px solid #333;
}

#realSite .carousel {
  display: flex;
  overflow-x: auto;
  gap: 10px;
  padding: 10px 0;
}

#realSite .carousel::-webkit-scrollbar {
  height: 10px;
}

#realSite .carousel::-webkit-scrollbar-thumb {
  background: #555;
  border-radius: 5px;
}

#realSite .carousel-item {
  min-width: 200px;
  background: #1e1e1e;
  border-radius: 10px;
  padding: 10px;
  cursor: pointer;
  text-align: center;
  flex-shrink: 0;
}

#realSite .carousel-item:hover {
  background: #333;
}

#realSite iframe.fullscreen {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 2000;
  border: none;
}

#realSite .emulator {
  border: 2px dashed #fff;
  padding: 50px;
  text-align: center;
  border-radius: 15px;
  max-width: 90%;
  margin: 0 auto;
}

#realSite .emulator.dragover {
  background-color: rgba(255,255,255,0.1);
}

#realSite input[type="file"] {
  display: none;
}

#realSite label {
  display: inline-block;
  margin-top: 20px;
  padding: 10px 20px;
  background: #1e1e1e;
  border: 1px solid #fff;
  border-radius: 10px;
  cursor: pointer;
}

#realSite .file-info {
  margin-top: 20px;
  word-break: break-word;
}

#realSite .site-logo {
  position: fixed;
  top: 10px;
  left: 10px;
  width: 55px;
  height: 55px;
  z-index: 9999;
}

#realSite .site-logo svg {
  width: 100%;
  height: 100%;
}
</style>
</head>
<body>

<!-- =============== LOCKED SCREEN WITH YOUR SCREENSHOT =============== -->
<div id="lockScreen">
  <!-- üî¥ Change src if your screenshot has a different file name -->
  <img id="lockImage" src="launchpad.png" alt="LaunchPad screenshot" />

  <!-- Invisible click area over Progress Learning -->
  <button id="progressHitbox" onclick="unlockSite()" aria-label="Progress Learning"></button>
</div>

<!-- =============== REAL UNBLOCKED HUB SITE (HIDDEN) =============== -->
<div id="realSite">

  <!-- Home Section -->
  <div class="section" id="home">
    <h1>Unblocked Hub</h1>
    <h3>Updates every week</h3>
  </div>

  <header>
    <nav>
      <a href="#home">Home</a>
      <a href="#games">Games</a>
      <a href="#movies">Movies</a>
      <a href="#tvshows">TV Shows</a>
      <a href="#youtube">YouTube</a>
      <a href="#music">Music</a>
      <a href="#unblocked">Unblocked Google</a>
      <a href="#emulator">Emulator</a>
      <a href="#forms">Forms</a>
      <a href="#water">Water</a>
    </nav>
    <div>
      <button id="darkModeBtn">Toggle Dark Mode</button>
      <button onclick="window.location='https://classroom.google.com'">Panic Button</button>
    </div>
  </header>

  <div class="search-bar">
    <input type="text" id="searchInput" placeholder="Search..." />
  </div>

  <!-- Games Section -->
  <div class="section" id="games">
    <h2>Games</h2>
    <div class="carousel" id="gamesCarousel">
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=6')">Block Blast</div>
      <div class="carousel-item" onclick="openGame('https://7vfx6j.csb.app/')">They are Coming</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=468')">Hollow Knight</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=430')">10 Minutes Till Dawn</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=58')">1v1.LOL</div>
      <div class="carousel-item" onclick="openGame('https://menkoi.github.io/Backrooms')">The Backrooms</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=467')">Baldi's Basics</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=272')">Basketball Stars</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=66')">Basket Random</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=70')">Bitlife</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=33')">Retro Bowl</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=34')">College Retro Bowl</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=166')">Bad Parenting</div>
      <div class="carousel-item" onclick="openGame('https://crvhg3.csb.app/')">Bendy &amp; the Ink Machine</div>
      <div class="carousel-item" onclick="openGame('https://mnvm2f.csb.app/')">Buckshot Roulette</div>
      <div class="carousel-item" onclick="openGame('https://klxly6.csb.app/')">Cuphead</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=262')">Half Life</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=203')">Doom</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=602')">Doom 2</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=38')">FNAF 1</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=39')">FNAF 2</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=40')">FNAF 3</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=41')">FNAF 4</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=185')">Sister Location FNAF 5</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=191')">Freddy Fazbear's Pizzeria Simulator FNAF 6</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=192')">Ultimate Custom Night FNAF 7</div>
      <div class="carousel-item" onclick="openGame('https://g2t3hl.csb.app/')">ARC</div>
      <div class="carousel-item" onclick="openGame('https://82zd6l.csb.app/')">R.E.P.O.</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=457')">Raft</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=591')">Slime Rancher</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=461')">Slither.io</div>
      <div class="carousel-item" onclick="openGame('https://r27bbc.csb.app/')">Slope</div>
      <div class="carousel-item" onclick="openGame('https://ly4fsf.csb.app/')">Subway Surfers</div>
      <div class="carousel-item" onclick="openGame('https://c85hj5.csb.app/')">Survival Race</div>
      <div class="carousel-item" onclick="openGame('https://ddktmt.csb.app/')">SUPERHOT</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=196')">ULTRAKILL</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=109')">Tomb of the Mask</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=108')">Tiny Fishing</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=445')">Kindergarten</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=446')">Kindergarten 2</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=501')">Kindergarten 3</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=456')">Undertale</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=439')">Bank Robbery 2</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=24')">Crossy Road</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=83')">Core Ball</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=77')">Boxing Random</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=470')">Doodle Jump</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=35')">Drive Mad</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=276')">Drift Boss</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=88')">Fireboy &amp; Watergirl</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=129')">Flappy Bird</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=30')">Bottle Flip</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=261')">Fruit Ninja</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=364')">Idle Mining Empire</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=7')">Jetpack Joyride</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=93')">Johnny Trigger</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=342')">Learn to Fly</div>
      <div class="carousel-item" onclick="openGame('https://wk7lnm.csb.app/')">OvO</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=2')">OvO 2</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=505')">PokeMon</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=173')">Drift Hunters</div>
      <div class="carousel-item" onclick="openGame('https://gn-math.github.io/?id=153')">Flappy Dunk</div>
      <div class="carousel-item" onclick="openGame('https://d5xq8d.csb.app/')">Escape Road</div>
      <div class="carousel-item" onclick="openGame('https://dt9lms.csb.app/')">Endoparasitic</div>
      <div class="carousel-item" onclick="openGame('https://csgd73.csb.app/')">Slenderman</div>
      <div class="carousel-item" onclick="openGame('https://z2mjd9.csb.app/')">Deltarune</div>
      <div class="carousel-item" onclick="openGame('https://c8t3fk.csb.app/')">Poly Track</div>
      <div class="carousel-item" onclick="openGame('https://l5483t.csb.app/')">Infinite Craft</div>
      <div class="carousel-item" onclick="openGame('https://kclvhw.csb.app/')">Escape Road</div>
      <div class="carousel-item" onclick="openGame('https://67nswf.csb.app/')">Balatro</div>
      <div class="carousel-item" onclick="openGame('https://v9t57z.csb.app/')">Chicken War</div>
      <div class="carousel-item" onclick="openGame('https://ytswf6.csb.app/')">That's Not my Neighbor</div>
      <div class="carousel-item" onclick="openGame('https://swqvsd.csb.app/')">Webfishing</div>
      <div class="carousel-item" onclick="openGame('https://turbowarp.org/1947439/embed')">Peggle</div>
      <div class="carousel-item" onclick="openGame('https://turbowarp.org/590926828/embed')">Terraria</div>
      <div class="carousel-item" onclick="openGame('https://turbowarp.org/131270192/embed')">Diep.io</div>
    </div>
  </div>

  <!-- Movies Section -->
  <div class="section" id="movies">
    <h2>Movies</h2>
    <div class="carousel">
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/137106-the-lego-movie" target="_blank">The Lego Movie</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/329-jurassic-park" target="_blank">Jurassic Park</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/330-the-lost-world-jurassic-park" target="_blank">Jurassic Park: Lost World</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/331-jurassic-park-iii" target="_blank">Jurassic Park 3</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/135397-jurassic-world" target="_blank">Jurassic World</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/351286-jurassic-world-fallen-kingdom" target="_blank">Jurassic World: Fallen Kingdom</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/507086-jurassic-world-dominion" target="_blank">Jurassic World: Dominion</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/movies/1234821-jurassic-world-rebirth" target="_blank">Jurassic World: Rebirth</a></div>
    </div>
  </div>

  <!-- TV Shows Section -->
  <div class="section" id="tvshows">
    <h2>TV Shows</h2>
    <div class="carousel">
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/93405-squid-game" target="_blank">Squid Game</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/456-the-simpsons" target="_blank">The Simpsons</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/200875-it-welcome-to-derry" target="_blank">IT: Welcome to Derry</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/18165-the-vampire-diaries" target="_blank">The Vampire Diaries</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/1405-dexter" target="_blank">Dexter</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/131927-dexter-new-blood" target="_blank">Dexter: New Blood</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/259909-dexter-resurrection" target="_blank">Dexter: Resurrection</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/219937-dexter-original-sin" target="_blank">Dexter: Original Sin</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/66732-stranger-things" target="_blank">Stranger Things</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/194766-the-summer-i-turned-pretty" target="_blank">The Summer I Turned Pretty</a></div>
      <div class="carousel-item"><a href="https://www.1shows.ru/tv/97645-solar-opposites" target="_blank">Solar Opposites</a></div>
    </div>
  </div>

  <!-- YouTube Section -->
  <div class="section" id="youtube">
    <h2>YouTube Channels</h2>
    <div class="carousel">
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/degenerocity" target="_blank">Degenerocity</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/mrbeast" target="_blank">MrBeast</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/jynxzi" target="_blank">Jynxzi</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/coryxkenshin" target="_blank">CoryxKenshin</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/joe-bartolozzi" target="_blank">Joe Bartolozzi</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/ice-711" target="_blank">Ice 711</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/swiss001" target="_blank">Swiss001</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/ludwig" target="_blank">Ludwig</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/supersnailsoy" target="_blank">SuperSnailBoy</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/sur-ronster" target="_blank">Sur Ronster</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/aquatic-neptune" target="_blank">Aquatic Neptune</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/fern" target="_blank">Fern</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/sml" target="_blank">SML</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/derekfdb" target="_blank">Derekfdb</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/tyler-blanchard" target="_blank">Tyler Blanchard</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/dougdoug" target="_blank">DougDoug</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/youtube/ish" target="_blank">Ish</a></div>
    </div>
  </div>

  <!-- Music Section -->
  <div class="section" id="music">
    <h2>Music Artists</h2>
    <div class="carousel">
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/music/katseye" target="_blank">Katseye</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/music/pharrell-williams" target="_blank">Pharrell Williams</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/music/leon-thomas" target="_blank">Leon Thomas</a></div>
      <div class="carousel-item"><a href="https://sites.google.com/view/applegames-apple/music/tyler-the-creator" target="_blank">Tyler The Creator</a></div>
    </div>
  </div>

  <!-- Unblocked Google Section -->
  <div class="section" id="unblocked">
    <h2>Unblocked Google</h2>
    <a href="https://sites.google.com/view/applegames-apple/unblocked-google" target="_blank">Go to Unblocked Google</a>
  </div>

  <!-- Emulator Section -->
  <div class="section" id="emulator">
    <h2>Emulator</h2>
    <div class="emulator" id="emulatorDiv">
      <h2>Drag &amp; Drop or Upload ROM</h2>
      <p>Supported: .nes, .gb, .gba</p>
      <input type="file" id="fileInput" accept=".nes,.gb,.gba" />
      <label for="fileInput">Select ROM</label>
      <div class="file-info" id="fileInfo"></div>
    </div>
  </div>

  <!-- Forms Section -->
  <div class="section" id="forms">
    <h2>Forms</h2>
    <div class="carousel">
      <div class="carousel-item"><iframe src="https://forms.gle/nPqrA8W8tDSMcPbn9" style="width:300px;height:400px;"></iframe></div>
      <div class="carousel-item"><iframe src="https://forms.gle/3ktVirMLybjacm3x7" style="width:300px;height:400px;"></iframe></div>
      <div class="carousel-item"><iframe src="https://forms.gle/axr8sKvAbUDGyV8a7" style="width:300px;height:400px;"></iframe></div>
      <div class="carousel-item"><iframe src="https://forms.gle/bMQDXbzFtgLbEWkr9" style="width:300px;height:400px;"></iframe></div>
      <div class="carousel-item"><iframe src="https://forms.gle/xTtMDb1cm9kqdmx8A" style="width:300px;height:400px;"></iframe></div>
    </div>
  </div>

  <!-- Water Section -->
  <div class="section" id="water">
    <h2>Water</h2>
    <p>Password: <strong>i1ovewater, skibiti, funni</strong></p>
    <a href="https://sites.google.com/view/i-love-water-so-much" target="_blank" style="color:#1e90ff; text-decoration:underline;">Go to Water Page</a>
  </div>

  <!-- Site logo -->
  <div class="site-logo">
    <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
      <path d="M60 40 V120 Q60 160 100 160 Q140 160 140 120 V40"
            fill="none" stroke="white" stroke-width="20" stroke-linecap="round"/>
    </svg>
  </div>

  <!-- Home Button -->
  <button id="homeBtn" onclick="document.getElementById('home').scrollIntoView({behavior:'smooth'});">Home</button>

</div>

<!-- =============== SCRIPTS =============== -->
<script>
function unlockSite() {
  var pwd = prompt("Enter password:");
  if (pwd === null) return;

  if (pwd === "ihatehw385") {
    document.getElementById("lockScreen").style.display = "none";
    document.getElementById("realSite").style.display = "block";
    document.body.style.overflow = "auto";
    window.scrollTo(0, 0);
  } else {
    alert("Incorrect password.");
  }
}

document.addEventListener("DOMContentLoaded", function () {

  // Dark Mode Toggle
  var darkBtn = document.getElementById("darkModeBtn");
  if (darkBtn) {
    darkBtn.addEventListener("click", function () {
      document.getElementById("realSite").classList.toggle("dark-mode");
    });
  }

  // ROM Emulator File Handler
  var emulator = document.getElementById("emulatorDiv");
  var fileInput = document.getElementById("fileInput");
  var fileInfo = document.getElementById("fileInfo");

  if (emulator && fileInput) {
    emulator.addEventListener("dragover", e => {
      e.preventDefault();
      emulator.classList.add("dragover");
    });

    emulator.addEventListener("dragleave", () => {
      emulator.classList.remove("dragover");
    });

    emulator.addEventListener("drop", e => {
      e.preventDefault();
      emulator.classList.remove("dragover");
      handleFile(e.dataTransfer.files[0]);
    });

    fileInput.addEventListener("change", () => {
      handleFile(fileInput.files[0]);
    });

    function handleFile(file) {
      if (!file) return;
      fileInfo.textContent = `File selected: ${file.name} (${file.size} bytes)`;
    }
  }

  // Search Bar Filter
  var searchInput = document.getElementById("searchInput");
  searchInput.addEventListener("input", function () {
    let query = searchInput.value.toLowerCase();

    document.querySelectorAll(".carousel-item").forEach(item => {
      let text = item.textContent.toLowerCase();
      item.style.display = text.includes(query) ? "" : "none";
    });
  });
});

// ========================
//  GAME FULLSCREEN FIX
// ========================

let currentIframe = null;

function openGame(url) {
  if (currentIframe) return;

  const iframe = document.createElement("iframe");
  iframe.src = url;
  iframe.className = "fullscreen";
  iframe.allowFullscreen = true;

  const exitBtn = document.createElement("button");
  exitBtn.textContent = "‚úñ";
  exitBtn.style.position = "fixed";
  exitBtn.style.top = "20px";
  exitBtn.style.right = "20px";
  exitBtn.style.zIndex = "3000";
  exitBtn.style.fontSize = "30px";
  exitBtn.style.padding = "5px 12px";
  exitBtn.style.border = "none";
  exitBtn.style.borderRadius = "8px";
  exitBtn.style.background = "rgba(0,0,0,0.6)";
  exitBtn.style.color = "white";
  exitBtn.style.cursor = "pointer";
  exitBtn.onclick = closeGame;

  document.body.style.overflow = "hidden";
  document.body.appendChild(iframe);
  document.body.appendChild(exitBtn);

  currentIframe = iframe;
  currentIframe.exitBtn = exitBtn;
}

function closeGame() {
  if (!currentIframe) return;

  document.body.removeChild(currentIframe);
  document.body.removeChild(currentIframe.exitBtn);
  document.body.style.overflow = "auto";
  currentIframe = null;
}

document.addEventListener("keydown", e => {
  if (e.key === "Escape") closeGame();
});
</script>
</body>
</html>
